#Introduction
This dispaly code is meant to be used with an STM32H750B-DK kit to talk over UART to a gateway chip (ESP32 was test with it). 
The Display will request information from the gateway which will then grab info from a CAN bus. CAN bus follows the public standard ISO 11898-1/ ISO 11898-2. See general README.md for more information.


#UART SPECS
Baud Rate: 112500
Data Bits: 8
Parity   : Even
stop bits: 1
flow_ctrl: disabled


# Testing setup that shold be undone
1. In the rowItem_Data.cpp file in void rowItem_Data::setValue(const char *str) the value '0' for str is not being updated for conistancy becuase right now the display sends '0' when it didn't get a response in time to a request.

# Improvements not yet done 
1. Change so all codes use UART_COMMS.hpp for UART commands
2. Read live data screen (Read live data/freeze frame)
    *GUI cuts off units and may not wrap bigger titles to the next line
    *Bigger numbers can also be cut off
        *for both of these change around text box sizes and enale wrapping in touchgfx then regenerate
3. There are a few files regenerated by touchgfx but not used(old screens/custom widgets) that could be deleted
4. May want Mutex protection on DTCs and PID value(not used now because GUI controls task and one task is exited completely before the next with all pointers being freed and set too NULL)
    *In Read_Live_Data_ScreenPresenter.cpp in the void Read_Live_Data_ScreenPresenter::set_Service(uart_comms_t serv, uint8_t pid) the pointers for PIDlist should be cleared if ser = UART_DATA_PID && pid == 0x20 which is the exit command
5. GUI for read codes needs improvement to be more user friendly
6. PIDs library isn't set up fully
    *Missing padding so that PID number can be used for indexing
    *Missing decode functions
    *Some decode functions are wrong or just filler for now(all bit-mask/bit-map are just set to update to -9999 or -8888 respectively)
    *Some will have two values that represent two different things for this case the UNIT for that item couldbe made to have two units and the decode function could print two values in the char pointer. This way it could be VAL, VAL with UNIT, UNIT under it
    *There are also a lot of commented out ones because the Gateway code right now has been change to only request the first 32 PIDs(for loop range changed for testing)
    


# Bugs 
1. current display UART code doesn't check for rerequest in while loop in Get_PID_BitMask() which could cause infinite loop or bugs
2. Read live data screen (Read live data/freeze frame)
    *GUI not loading all UNITs(units might be unknown symbols to the text or wildcard buffer)
    *GUI updating values but bouncing around when they shouldn't(Most likely indexing issue with GUI trying to update values)
    *Some values do not update(Maby GUI indexing to update items)
    *Some values do not update until scrolled to the middle of the screen(might be indexing or how I'm updating values)
        *Another fix for some of this could be to increase frequency of Updates
        *Depending what the screen is scrolled to some values will have faster request and others slower. Seems like some do not get responses which take longer because of timeout while others do get responses and upate.
    *Values do not keep there default value of VALUE until updated
        *Seems like they are updating to what was in the container last which could be linked to the update TB CB
3. Message for Read live data and Freeze frame doesn't show when the scroll list is set to 0 elements 


    


#Sources
1. https://en.wikipedia.org/wiki/OBD-II_PIDs
2. https://circuitlabs.net/automotive-diagnostics-with-can-obd-ii/?utm_source